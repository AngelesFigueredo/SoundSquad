<link rel="stylesheet" href="/stylesheets/playlists.css" />

<div class="container">
    <div class="row">
        <div class="col">
            {{#ifIsTheSame currentUser._id id}}
                <a class="link" href="/new-playlist">Crear nueva playlist</a>

            {{#unless ownedPlaylists}}
                <p>No tienes ninguna playlist todavía, crea la primera!</p>
            {{/unless}}

            {{#if ownedPlaylists}}
                <h2 class="playlist-head">Tus playlists:</h2>
                    {{#each ownedPlaylists}}
                    
                        <div class="row">
                                <div class="col-3">
                                    <a href="/playlist-details/{{this._id}}"><img class="preview-picture" src="{{this.previewPicture}}" alt=""></a>
                                </div>
                                <div class="col">
                                    <a href="/playlist-details/{{this._id}}"><p class="playlist-title">{{this.title}}</p></a>
                                    <a href="/playlist-details/{{this._id}}"><p class="playlist-description">{{this.description}}</p></a>
                                </div>
                        </div>
                        <br>
                    {{/each}}
            {{/if}}

            {{#if followedPlaylists}}
                <h2>Playlists de otros usuarios:</h2>
                    {{#each followedPlaylists}}
                        <div class="row">
                            <div class="col-3">
                                <a href="/playlist-details/{{this._id}}"><img class="preview-picture" src="{{this.previewPicture}}" alt=""></a>
                            </div>
                            <div class="col">
                                <a href="/playlist-details/{{this._id}}"><p class="playlist-title">{{this.title}}</p></a>
                                <a href="/playlist-details/{{this._id}}"><p class="playlist-description">{{this.description}}</p></a>
                            </div>
                        </div>
                        <br>                    
                    {{/each}}
            {{/if}}

            {{else}}
                {{#unless ownedPlaylists}}
                    <p class="playlist-message">{{user.username}} no tiene ninguna playlist todavía.</p>
                {{/unless}}

                {{#if ownedPlaylists}}
                    <h2 class="playlist-head">Playlists de {{user.username}}:</h2>
                        {{#each ownedPlaylists}}
                            <div class="row">
                                <div class="col-3">
                                    <a href="/playlist-details/{{this._id}}"><img class="preview-picture" src="{{this.previewPicture}}" alt=""></a>
                                </div>
                                <div class="col">
                                    <a href="/playlist-details/{{this._id}}"><p class="playlist-title">{{this.title}}</p></a>
                                    <a href="/playlist-details/{{this._id}}"><p class="playlist-description">{{this.description}}</p></a>
                            </div>
                        </div>
                        <br>
                        {{/each}}
                {{/if}}

                {{#if followedPlaylists}}
                    <h2 class="playlist-head">Playlists seguidas por {{user.username}}:</h2>
                        {{#each followedPlaylists}}
                            <div class="row">
                                <div class="col-3">
                                    <a href="/playlist-details/{{this._id}}"><img class="preview-picture" src="{{this.previewPicture}}" alt=""></a>
                                </div>
                                <div class="col">
                                    <a href="/playlist-details/{{this._id}}"><p class="playlist-title">{{this.title}}</p></a>
                                    <a href="/playlist-details/{{this._id}}"><p class="playlist-description">{{this.description}}</p></a>
                                </div>
                            </div>
                            <br>
                        {{/each}}
                {{/if}}

            {{/ifIsTheSame}}
            
        </div>
    </div>
</div>